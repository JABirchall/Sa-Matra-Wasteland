/*
	ArmA 3 Wasteland
	Code written by Sa-Matra
	Using this code without Sa-Matra's direct permission is forbidden
	
	
	Special build for Dwarden
	
	ESABQIEXHTFRGOFR
*/
#include "hpp\idcs.hpp"
#include "hpp\settings.hpp"
#define wgc29e		0
#define wgolgs		1
#define wgyztj	2
#define wg2je8		3
#define wgzmq8	"ColorBlue"
#define wge9hn	"ColorRed"
#define wg3hjp	"ColorGreen"
#define wg4xvm	"ColorOrange"
#define wgge85	"ColorRed"
wg3ro6={if(!isNil{wgjzsn})exitWith{};if(isNil{wgjzsn})then{wgjzsn=true;};wgbv8p=wg2nmw;wgi854=count wgm391;wg1pwt=wgm4xz;10 cutRsc["Wasteland_Hud","PLAIN"];private["_0jk"];disableSerialization;_0jk=uiNamespace getVariable "Wasteland_Hud";(_0jk displayCtrl wgwbcm)ctrlShow false;false call wg44zo;(_0jk displayCtrl wg1cq4)ctrlSetFade 1;(_0jk displayCtrl wg1cq4)ctrlCommit 0;enableDebriefingStats[0,0,-1,-1];wgxq39=0;wguj1c=true;wg95zb=diag_tickTime;switch(playerSide)do{case blufor:{wgv2o8="ColorBlue";};case opfor:{wgv2o8="ColorRed";};default{wgv2o8="ColorGreen";};};wgce56=0;wgf3f1=false;true spawn wgc149;true spawn wgqd8d;true call wgmw2n;isStreamFriendlyUIEnabled spawn wg3tjo;true spawn wgre6q;true spawn wg1ewi;true spawn wgcfo6;true call wgw71q;wgppw3=true;};wg44zo={((uiNamespace getVariable "Wasteland_Hud")displayCtrl wggbyi)ctrlShow _this;};wgjiwf={if!(call wgzef8)exitWith{};if(wgce56>0)then{if(diag_tickTime>wgce56)then{call wggd36;};};};wglzgr={if(isNil{wgppw3})exitWith{};private["_0ra"];_0ra=getFatigue player;private["_0jk","_08p","_09p","_0aq"];_0jk=uiNamespace getVariable "Wasteland_Hud";_08p=_0jk displayCtrl wg1cq4;_09p=_0jk displayCtrl wgcrxf;_0aq=(if(call wght7s)then{0.6}else{0});if(alive player&&!wg14a5&&!wggw5j&&!visibleMap&&_0ra>0.2&&wgjzsn)then{if(!wgf3f1)then{_08p ctrlSetFade _0aq;_08p ctrlCommit 1;wgf3f1=true;};}else{if(wgf3f1)then{_08p ctrlSetFade 1;_08p ctrlCommit 1;wgf3f1=false;};};_09p progressSetPosition _0ra;};wgzef8={!isNil{wgppw3}};wgbtw7={call wgn9tl;disableSerialization;private["_0jk"];_0jk=uiNamespace getVariable "Wasteland_Hud";for "_i" from 0 to(count(wgm391)-1)do{(_0jk displayCtrl(wg2nmw+_i))ctrlShow true;};};wgn9tl={disableSerialization;private["_0jk"];_0jk=uiNamespace getVariable "Wasteland_Hud";for "_i" from 0 to(count(wgm391)-1)do{_0bq=wgm391 select _i;_05m=_0jk displayCtrl(wgfi23+_i);_05m ctrlSetStructuredText parseText localize format["STR_WL_Dlg_Scoreboard_ScoreTitle%1",_0bq];_0cq="";_0qh=wgwa47 select _0bq;for "_j" from 0 to(wgm4xz-1)do{_name="-";if(_j<count(_0qh))then{_0dq=(({getPlayerUID(_x)==(_0qh select _j select 0)}count(units group player))==1)&&((side group player)==(_0qh select _j select 1));_name=if(isStreamFriendlyUIEnabled)then{if(_0dq&&(_0qh select _j select 0)==wghrav)then{localize "STR_WL_Me"}else{if(_0dq)then{localize "STR_WL_Groupmate"}else{if((side group player)==independent)then{localize "STR_WL_Teammate"}else{localize "STR_WL_Player"};};};}else{(_0qh select _j select 2)};_name=format["<img image='%1'/> %2",(_0qh select _j select 1)call wgri6x,if(_0dq)then{format["<t color='#55cc55'>%1</t>",_name]}else{_name}];_0ra=(_0qh select _j select 3)call wgzuan;if(_0bq==wgpsty)then{_0ra=format["<t color='#aaffaa'>$%1</t>",_0ra];};_0cq=_0cq+_0ra+"<br/>";}else{_0cq=_0cq+"-<br/>";};_0eq=_0jk displayCtrl(wgs74y+(_i*10)+_j);_0eq ctrlSetStructuredText parseText _name;};_0fq=_0jk displayCtrl(wg62zd+_i);_0fq ctrlSetStructuredText parseText _0cq;_0gq="";_0hq=wgsiro select _0bq;for "_j" from 0 to 1 do{if(_j<count(_0hq))then{_0ra=(_0hq select _j select 1)call wgzuan;if(_0bq==wgpsty)then{_0ra=format["<t color='#aaffaa'>$%1</t>",_0ra];};_0gq=_0gq+format["<img image='%1'/> %2 (%4<img image='i\player_font.paa'/>)<t align='right'>%5</t><br/>",(_0hq select _j select 0)call wgri6x,localize format["STR_WL_Gen_Team%1",(_0hq select _j select 0)],localize "STR_WL_Dlg_Scoreboard_ByXPlayers",(_0hq select _j select 2),_0ra];}else{_0gq=_0gq+"-<t align='right'>-</t><br/>";};};_0iq=_0jk displayCtrl(wg6mgj+_i);_0iq ctrlSetStructuredText parseText _0gq;};};wg3gy3={disableSerialization;private["_0jk"];_0jk=uiNamespace getVariable "Wasteland_Hud";for "_i" from 0 to(count(wgm391)-1)do{(_0jk displayCtrl(wg2nmw+_i))ctrlShow false;};};wgqd8d={waitUntil{waitUntil{wgxq39>serverTime||wgc9gy};waitUntil{(wgxq39<serverTime)&&!wgc9gy};call wg3gy3;false;};};wgre6q={waitUntil{!isNil{wg89bp}};_0ol=[];for "_i" from 0 to 2 do{{_m=format["bld%1",random 100000];createMarkerLocal[_m,_x select 0];_m setMarkerShapeLocal "RECTANGLE";_m setMarkerColorLocal "ColorGrey";_m setMarkerDirLocal(_x select 1);_m setMarkerSizeLocal[_x select 2,_x select 3];_0ol set[count _0ol,_m];}forEach wg89bp;};wgm42e=_0ol;};                                                                                                                                                                                                                                                               wgw71q={};wg3tjo={private["_0jq","_0jk","_02e","_0qq","_0tq","_0uq","_0lq","_0kq","_0rq","_0sq","_0mq","_0nq"];disableSerialization;waitUntil{!isNull(findDisplay 46)};_0jq=findDisplay 46;_02e=_0jq displayCtrl 11400;_0kq=(_0jq displayCtrl 1000);_0lq=(_0jq displayCtrl 1001);_0mq=!(ctrlFade _02e==1);_0nq=(if(_0mq)then{0}else{1.12*2});_x=safezoneX+safezoneW-10.5*(((safezoneW/safezoneH)min 1.2)/40);_0oq=safezoneY+safezoneH-(5.6-_0nq)*((((safezoneW/safezoneH)min 1.2)/1.2)/25);_0pq=6.5*(((safezoneW/safezoneH)min 1.2)/40);_05j=5.3*((((safezoneW/safezoneH)min 1.2)/1.2)/25);_02e ctrlSetPosition[_x,_0oq,_0pq,_05j];_02e ctrlCommit 0;if(_0mq)then{_0qq=_0jq displayCtrl 1200;_0qq ctrlShow false;_0rq=ctrlPosition _0lq;_0lq ctrlSetText format["A3 Development"];_0lq ctrlSetPosition[0,_0rq select 1,_0pq,_0rq select 3];_0lq ctrlCommit 0;_0sq=ctrlPosition _0kq;_0kq ctrlSetPosition[0,_0sq select 1,_0pq,_0sq select 3];_0kq ctrlCommit 0;};_0jk=uiNamespace getVariable "Wasteland_Hud";_0tq=_0jk displayCtrl wg6hb2;_0tq ctrlShow!isStreamFriendlyUIEnabled;_0uq=(ctrlPosition _0tq)select 3;_0tq ctrlSetPosition[_x,_0oq,_0pq,_0uq];_0tq ctrlSetTextColor[1,1,1,0.3];_0tq ctrlCommit 0;_0tq ctrlSetStructuredText parseText format[toString([87,97,115,116,101,108,97,110,100,32,37,49,60,98,114,47,62,98,121,32,83,97,45,77,97,116,114,97,60,98,114,47,62,119,115,46,97,114,109,97,46,115,117]),wgstzz];};wg1ewi={private["_0jq","_02e","_0vq"];disableSerialization;waitUntil{!isNull(findDisplay 46)};_0jq=findDisplay 46;_02e=_0jq displayCtrl 11400;while{true}do{_0vq=(ctrlPosition _02e)select 0;_0wq=isStreamFriendlyUIEnabled;waitUntil{sleep 1;_0vq!=((ctrlPosition _02e)select 0)||(!isStreamFriendlyUIEnabled&&_0wq)||(isStreamFriendlyUIEnabled&&!_0wq)};wgxgbo=isStreamFriendlyUIEnabled;isStreamFriendlyUIEnabled spawn wg3tjo;};};wgi6na={wgjzsn=_this;private["_0jk","_0jq","_02e","_0qq","_0tq","_0uq"];disableSerialization;_0jk=uiNamespace getVariable "Wasteland_Hud";(_0jk displayCtrl wgsq55)ctrlShow _this;(_0jk displayCtrl wgd47a)ctrlShow _this;if(!_this)then{};};wg4x1e={private["_0jk","_0im","_0xq","_0d"];disableSerialization;_0xq=[1,0,0,1];_0d=0.5;if(typeName(_this)==typeName([]))then{if(count(_this)==2)then{_0xq=_this select 0;_0d=_this select 1;};};_0jk=uiNamespace getVariable "Wasteland_Hud";_0im=_0jk displayCtrl wgsq55;_0im ctrlSetBackgroundColor _0xq;_0im ctrlCommit _0d;waitUntil{ctrlCommitted _0im};_0im ctrlSetBackgroundColor[0,0,0,0];};wgmw2n={private["_0jk","_0im","_0yq","_0zq","_01q"];disableSerialization;_0jk=uiNamespace getVariable "Wasteland_Hud";_0im=_0jk displayCtrl wgsq55;_0yq="";_0zq="";_01q=false;if(wgwsvk<30)then{_0yq=" color = '#ff0000'";_01q=true;};if(wgsna4<30)then{_0zq=" color = '#ff0000'";_01q=true;};if(wgwsvk>=wg6cum&&wgsna4>=wg6cum)then{_0yq=" color = '#55ff55'";_0zq=" color = '#55ff55'";};_0im ctrlSetStructuredText parseText format["<t%3>%1</t><img size='1.6' image='i\f.paa'/><br/><t%4>%2</t><img size='1.6' image='i\w.paa'/>",wgwsvk,wgsna4,_0yq,_0zq];if(_01q)then{true spawn wg4x1e;};};
#define wgrjjl 15
wg7axi={private["_0jk","_02q","_03q","_0sa","_icon_fnc","_copilot"];disableSerialization;_0jk=uiNamespace getVariable["Wasteland_Hud",displayNull];_02q=_0jk displayCtrl wgd47a;if(isNull(_0jk))exitWith{};if(player==vehicle player)exitWith{_02q ctrlShow false;_02q ctrlSetStructuredText text "";};_03q=[];_0sa=parseText "<br/>";_04q={private["_02e","_name","_05q"];_02e=(group player==group _this);_name=if(isStreamFriendlyUIEnabled)then{if(player==_this)then{localize "STR_WL_Me"}else{if(_02e)then{localize "STR_WL_Groupmate"}else{localize "STR_WL_Teammate"};};}else{name _this};_05q=(format["%1 <img image='%2'/><br/>",_name,switch(_0bm)do{case 1:{"a3\ui_f\data\IGUI\RscIngameUI\RscUnitInfo\role_driver_ca.paa"};case 2:{"a3\ui_f\data\IGUI\RscIngameUI\RscUnitInfo\role_gunner_ca.paa"};case 3:{"a3\ui_f\data\IGUI\RscIngameUI\RscUnitInfo\role_commander_ca.paa"};case 4:{"a3\ui_f\data\IGUI\RscIngameUI\RscUnitInfo\role_commander_ca.paa"};default{"a3\ui_f\data\IGUI\RscIngameUI\RscUnitInfo\role_cargo_ca.paa"};}]);if(_02e)then{_05q=format["<t color='#aaffaa'>%1</t>",_05q];};_05q};for "_i" from 1 to count(wgfazp)-1 do{private["_0cf"];_0cf=(wgfazp select _i);if(alive _0cf)then{_0bm=wg9pbt select _i;_03q set[count _03q,parseText(_0cf call _04q)];};};for "_i" from 0 to count(wgfazp select 0)-1 do{private["_0cf"];_0cf=(wgfazp select 0)select _i;if(alive _0cf)then{_0bm=0;_03q set[count _03q,parseText(_0cf call _04q)];};};private["_06q"];_06q=[];for "_i" from 0 to(wgrjjl-count(_03q))do{_06q set[count _06q,_0sa];};_03q=_06q+_03q;_02q ctrlSetStructuredText(composeText _03q);_02q ctrlShow true;};wg4o62={if(wg6z48)exitWith{};wg6z48=true;wgbm48=false;private["_0jk","_02e","_0br","_05m","_07q","_0d","_0hj","_08q","_09q","_0ar","_0cr","_0dr","_0fr"];_05m=_this select 0;_07q=_this select 1;_0d=_this select 2;_0hj=_this select 3;_08q=_this select 4;_09q=_this select 5;_0ar=_this select 6;disableSerialization;_0jk=uiNamespace getVariable "Wasteland_Hud";_02e=_0jk displayCtrl wgwbcm;_0br=_0jk displayCtrl wgcc93;_02e ctrlShow true;_02e ctrlSetFade 0;_02e ctrlCommit 0;(_0jk displayCtrl wgxtsn)ctrlSetText _05m;_0br progressSetPosition 0;_0cr=serverTime;_0dr=serverTime+_0d;_0er=((vehicle player)!=player);_0fr="AinvPknlMstpSnonWnonDnon_medic_1";waitUntil{_0br progressSetPosition((serverTime-_0cr)/_0d);if(vehicle player==player)then{if((animationState player!=_0fr)&&!wgbm48)then{wg43yw=player;publicVariable "wg43yw";player switchMove _0fr;player playMoveNow _0fr;};};(serverTime>=_0dr)||!alive player||wgbm48||_0hj call _08q};if(vehicle player==player)then{player playActionNow "stop";}else{player switchMove(animationState player);player playActionNow(animationState player);if(!_0er)then{player action["eject",(vehicle player)];};};wg6z48=false;if(!alive player||wgbm48||_0hj call _08q)then{_0hj call _09q;(_0jk displayCtrl wgxtsn)ctrlSetText "Aborted";_0br progressSetPosition 0;}else{if(typeName _07q==typeName{})then{_07q=_0hj call _07q;};(_0jk displayCtrl wgxtsn)ctrlSetText _07q;_0hj call _0ar;};sleep 1;if(!wg6z48)then{_02e ctrlSetFade 1;_02e ctrlCommit 0.5;waitUntil{ctrlCommitted _02e};if(!wg6z48)then{_02e ctrlShow false;_02e ctrlSetFade 0;_02e ctrlCommit 0;};};};wgulzm={if(!local(_this select 0))then{(_this select 0)switchMove(_this select 1);};};wgc149={waitUntil{!isNil{wg57oa}};wgaz5r=[];for "_i" from 0 to(count wg57oa-1)do{_08g=wg57oa select _i select 0;_0wg=wg57oa select _i select 7;_m=format["store_zone_%1",_i];deleteMarkerLocal _m;createMarkerLocal[_m,getPosATL _08g];_m setMarkerShapeLocal "ELLIPSE";_m setMarkerColorLocal wgzmq8;_m setMarkerSizeLocal[_0wg,_0wg];_m setMarkerBrushLocal "Grid";_m setMarkerAlphaLocal 0.5;_m=format["store_title_%1",_i];deleteMarkerLocal _m;createMarkerLocal[_m,getPosATL _08g];_m setMarkerShapeLocal "ICON";_m setMarkerTypeLocal "mil_dot";_m setMarkerColorLocal wgge85;_m setMarkerSizeLocal[0.4,0.4];_m setMarkerTextLocal(localize "STR_WL_HUD_Store_MarkerGunStore");_pos=getPosATL _08g;_pos set[1,(_pos select 1)-(_0wg-10)];_m=format["store_desc_%1",_i];deleteMarkerLocal _m;createMarkerLocal[_m,_pos];_m setMarkerShapeLocal "ICON";_m setMarkerTypeLocal "mil_dot";_m setMarkerColorLocal wgzmq8;_m setMarkerSizeLocal[0.4,0.4];_m setMarkerTextLocal(localize "STR_WL_HUD_Store_MarkerEmpty");_m setMarkerAlphaLocal 0.5;wgaz5r set[count wgaz5r,[format["store_zone_%1",_i],format["store_title_%1",_i],format["store_desc_%1",_i],wgc29e]];};_0gr={if((wgaz5r select(_this select 0)select 3)==(_this select 1))exitWith{};_0hr=format["store_zone_%1",(_this select 0)];_0ir=format["store_desc_%1",(_this select 0)];switch(_this select 1)do{case wgc29e:{_0hr setmarkerColorLocal wgzmq8;_0ir setmarkerColorLocal wgzmq8;_0ir setMarkerTextLocal(localize "STR_WL_HUD_Store_MarkerEmpty");};case wgolgs:{_0hr setmarkerColorLocal wge9hn;_0ir setmarkerColorLocal wge9hn;_0ir setMarkerTextLocal(localize "STR_WL_HUD_Store_MarkerEnemy");};case wgyztj:{_0hr setmarkerColorLocal wg3hjp;_0ir setmarkerColorLocal wg3hjp;_0ir setMarkerTextLocal(localize "STR_WL_HUD_Store_MarkerFriendly");};case wg2je8:{_0hr setmarkerColorLocal wg4xvm;_0ir setmarkerColorLocal wg4xvm;_0ir setMarkerTextLocal(localize "STR_WL_HUD_Store_MarkerMixed");};};if((_this select 2)&&((_this select 1)in[wgolgs,wg2je8]))then{hint parseText format["<t size='2' color='#ff0000'>%1</t><br/><br/>%2.",localize "STR_WL_Gen_Warning",localize "STR_WL_HUD_Store_MessageEnemyApproaching"];};(wgaz5r select(_this select 0))set[3,_this select 1];};while{true}do{for "_i" from 0 to(count wg57oa-1)do{_08g=wg57oa select _i select 0;_0wg=wg57oa select _i select 7;_0jr=0;_0kr=0;{if((_x distance _08g<_0wg)&&(player!=_x))then{if((playerSide in[blufor,opfor]&&playerSide==side _x)||(group _x==group player))then{_0jr=_0jr+1;}else{_0kr=_0kr+1;};};}forEach playableUnits;if(player distance _08g<_0wg)then{player reveal[_08g,4];if(_0kr>0)then{if(_0jr>0)then{[_i,wg2je8,true]call _0gr;}else{[_i,wgolgs,true]call _0gr;};}else{[_i,wgyztj,true]call _0gr;};}else{if(_0kr>0)then{if(_0jr>0)then{[_i,wg2je8,false]call _0gr;}else{[_i,wgolgs,false]call _0gr;};}else{if(_0jr>0)then{[_i,wgyztj,false]call _0gr;}else{[_i,wgc29e,false]call _0gr;};};};};sleep 1;};};wgebef={if(isStreamFriendlyUIEnabled)then{if(player==_x)then{localize "STR_WL_Me2"}else{if(group player==group _x)then{localize "STR_WL_Groupmate2"}else{localize "STR_WL_Teammate2"};};}else{name _x};};wgyecz={if(isStreamFriendlyUIEnabled)then{if(_this getVariable["revive_group",grpNull]==group player)then{localize "STR_WL_Groupmate2"}else{localize "STR_WL_Teammate2"};}else{_this getVariable["revive_name","Player"]};};wgcfo6={private["_03l","_0lr"];disableSerialization;waitUntil{!isNull(findDisplay 12 displayCtrl 51)};_03l=findDisplay 12 displayCtrl 51;if(!isNil{wge1xe})then{_03l ctrlRemoveEventHandler["Draw",wge1xe];wge1xe=nil;};wge1xe=_03l ctrlAddEventHandler["Draw",{[_this,false]call wgg3i1}];waitUntil{!isNull((uiNamespace getVariable "RscMiniMap")displayCtrl 101)};_0lr=((uiNamespace getVariable "RscMiniMap")displayCtrl 101);if(!isNil{wg7sdw})then{_0lr ctrlRemoveEventHandler["Draw",wg7sdw];wg7sdw=nil;};wg7sdw=_0lr ctrlAddEventHandler["Draw",{[_this,true]call wgg3i1}];};wgg3i1={private["_03l","_0lr","_pos","_0mr"];_03l=_this select 0 select 0;_0lr=_this select 1;_0mr=side group player;_03l call wg89p1;{if(alive _x)then{_pos=(if(isNull(_x getVariable["R3F_LOG_object_in_vehicle",objNull]))then{visiblePositionASL _x}else{visiblePositionASL(_x getVariable["R3F_LOG_object_in_vehicle",objNull])});_03l drawIcon[getText(configFile>>"CfgVehicles">>(typeOf _x)>>"icon"),[0.86,0.86,0,1],_pos,18,18,0,localize "STR_WL_Crate",2,0.04,"PuristaMedium","right"];};}forEach(wg3vh5);{if(alive _x)then{if!(player in _x)then{_03h=_x getVariable["owner_side",sideUnknown];if(_x getVariable["owner_state",wgbbxw]<wgqybg)then{_03l drawIcon[getText(configFile>>"CfgVehicles">>(typeOf _x)>>"icon"),[0.86,0.86,0,1],visiblePositionASL _x,24,24,getDirVisual _x,getText(configFile>>"CfgVehicles">>(typeOf _x)>>"displayname"),2,0.04,"PuristaMedium","right"];};};};}forEach(wgeb9r);{if(_x getVariable["ready",false]&&({_x getVariable["show_me_on_map",true]||group _x==group player}count(crew _x)>0))then{if((side group player==side group _x)&&(side group _x!=independent||group _x==group player)&&(effectiveCommander(vehicle _x)==_x))then{_0hm=(if(vehicle _x==_x)then{"iconManVirtual"}else{switch(true)do{default{"iconModule"};}});_0nr=if({group _x==group player}count(crew _x)>0)then{[0.333,0.8,0.333,1]}else{[0.8,0.8,0.8,1]};_05m=(if(vehicle _x==_x)then{_x call wgebef}else{_0ca=vehicle _x;_0or="";{if(_x getVariable["show_me_on_map",true]||group _x==group player)then{_0or=_0or+(if(_forEachIndex!=0)then{", "}else{""})+(_x call wgebef);};}forEach(crew _0ca);format["%1: %2",getText(configFile>>"CfgVehicles">>(typeOf _0ca)>>"displayname"),_0or];});_03l drawIcon[_0hm,_0nr,visiblePositionASL _x,24,24,getDirVisual _x,_05m,2,0.04,"PuristaMedium","right"];};};}forEach wgcsd3;{if((((_x getVariable["revive_side",sideUnknown]==playerSide)&&(playerSide!=independent))||(_x getVariable["revive_group",grpNull]==group player))&&alive(_x getVariable["revive_player",objNull]))then{_03l drawIcon["pictureHeal",[1,0,0,1],getPosASL _x,16,16,0,_x call wgyecz,2,0.04,"PuristaMedium","right"];};}forEach wgf9zc;};wg5p2u={private["_05m","_0pr","_0qr","_0d"];_05m=_this select 0;_0pr=_this select 1;_0qr=_this select 2;_0d=_this select 3;wgce56=diag_tickTime+_0d;wgucey cutRsc["Wasteland_Notification","PLAIN",0.000001];private["_0gn","_01h"];disableSerialization;_0gn=(uiNamespace getVariable "Wasteland_Notification")displayCtrl wg1gn4;_0gn ctrlSetStructuredText parseText format["<br/><t size='2' color='%1'>%2</t><br/>%3<br/> ",(if(_0qr)then{"#5555ff"}else{"#ee0000"}),_05m,_0pr];_01h=(ctrlPosition _0gn);_01h set[3,ctrlTextHeight _0gn];_0gn ctrlSetPosition _01h;_0gn ctrlCommit 0;};wggd36={wgce56=0;wgucey cutFadeOut 0;};wg3zrh={playSound "FD_Start_F";["Warning","You are being targeted by anti-tank launcher",false,5]call wg5p2u;};wgkjbs={private["_03h","_0rr","_0sr"];if(typeName(_this)==typeName([]))then{_03h=_this select 0;_0rr=_this select 1;_0sr=if(isNil{_this select 2})then{false}else{_this select 2};}else{_03h=_this;_0rr=1;_0sr=false;};if!(_03h in[blufor,opfor,independent])exitWith{str(_03h)};format["<img image='A3\ui_f\data\map\diary\icons\player%1_ca.paa'%5/><%2 color='%3'>%4</%2>",(switch(_03h)do{case blufor:{"West"};case opfor:{"East"};case independent:{"Guer"};}),(if(_0sr)then{"font"}else{"t"}),(switch(_03h)do{case blufor:{"#2266bb"};case opfor:{"#aa0000"};case independent:{"#22aa22"};}),localize format["STR_WL_Gen_Team%1%2",_03h,(switch(_0rr)do{case 2:{"_2"};case 3:{"_3"};default{""};})],(if(_0sr)then{" height='16'"}else{""})]};wg3r1b={copyToClipboard _this;hint parseText format["Copied to clipboard<br/><t color='#8888ff' underline='true'>%1</t><br/><br/>now you can press Alt+Tab and paste it into your browser",_this];};wgtlar={player createDiarySubject["Credits",format["%1 Credits",toString[215]]];player createDiaryRecord["Credits","<img image='i\logo.paa' size=2 height='60'/><br/><font size='30'>ArmA 3 Wasteland</font><br/><font size='20' color='#cccccc'>Original Wasteland idea</font><br/>TAW_Tonic<br/><br/><font size='20' color='#cccccc'>Mission design and development</font><br/>Sa-Matra<br/><br/><font size='20' color='#cccccc'>Project support</font><br/>MiB, Inch, Dwarden<br/><br/><font size='20' color='#cccccc'>Graphics</font><br/>Logo by Kirill Rasputin (vonRas)<br/>Icons by Aaron Hooker (Kyyras)<br/>Help by Alexander Hartisch (Lexhart)<br/><br/><font size='20' color='#cccccc'>Scripts</font><br/>R3F Logistics by madbull<br/>CLY Remove Dead by Celery<br/>Dynamic Weather Effects by Engima of Ostgota Ops<br/>Shell sort by rube<br/>Anti-cheat by AgentRev (original by AWA)<br/><br/><font size='20' color='#cccccc'>Addons</font><br/>All in Arma by kju<br/>HLC weapons by toadie2k<br/>ASDG Joint Rails by Robalo<br/>RHS by Red Hammer Studios<br/><br/><font size='20' color='#cccccc'>Feedback, testing and support</font><br/>BlackSTaP, Cayman, Kosta, Sla, snapko, marcsimus, EvilWhite, Garrett_91, NeX, [Laskar Jihad] Achmemed Abduldul, Riggs, Caroline, C[4]G Mike, Germash(RUS), TPEHEP, BobbyDigital, Jonny<br/><br/><font size='20' color='#cccccc'>Thanks to</font><br/>Dmorok, YOZR, [H.M.G.]Caboose, [H.M.G.]sMILESaLOT, [Serious]Evil Putz, [Serious]boarti, Prodavec, GusarRomik, FraG.bygaga!, Horner, [Laskar Jihad] Muhammad Aschlabaschla, [Laskar Jihad] Abdul Jabaar, Yelgo, TotTIm, Jessica Alba, Westwood, Ceh, Drop Dead, Killzone_Kid, Deathlyrage<br/><br/><font size='20' color='#cccccc'>Special thanks to</font><br/>Sacriel (<font color='#7777ff'><execute expression='""http://youtube.com/sacriel42"" call wg3r1b'>http://youtube.com/sacriel42</execute></font>)<br/>PsiSyndicate (<font color='#7777ff'><execute expression='""http://youtube.com/PsiSyndicate"" call wg3r1b'>http://youtube.com/PsiSyndicate</execute></font>)<br/>Oshi7 (<font color='#7777ff'><execute expression='""http://youtube.com/oshiseven"" call wg3r1b'>http://youtube.com/oshiseven</execute></font>)<br/>Ngotie (<font color='#7777ff'><execute expression='""http://www.youtube.com/ngotie"" call wg3r1b'>http://www.youtube.com/ngotie</execute></font>)<br/>SadaPlays (<font color='#7777ff'><execute expression='""http://www.youtube.com/SadaPlays"" call wg3r1b'>http://www.youtube.com/SadaPlays</execute></font>)<br/>Avialence (<font color='#7777ff'><execute expression='""http://youtube.com/Avialence"" call wg3r1b'>http://youtube.com/Avialence</execute></font>)<br/>Houser (<font color='#7777ff'><execute expression='""http://youtube.com/NhouzX"" call wg3r1b'>http://youtube.com/NhouzX</execute></font>)<br/><br/>Code 4 Gaming (<font color='#7777ff'><execute expression='""http://codefourgaming.com/"" call wg3r1b'>http://codefourgaming.com/</execute></font>)<br/><br/><font size='20' color='#cccccc'>Wasteland subreddit</font><br/><font color='#7777ff'><execute expression='""http://www.reddit.com/r/armawasteland/"" call wg3r1b'>http://www.reddit.com/r/armawasteland/</execute></font><br/><br/><font size='20' color='#cccccc'>Wasteland homepage</font><br/><font color='#7777ff'><execute expression='""http://ws.arma.su/"" call wg3r1b'>http://ws.arma.su/</execute></font><br/>"];_0tr=["v2","v3","v4","v5","v6","v7","v8","v9","v10","v11","v12","v13","v14","v15","v16","v17","v18","v19","v20","v21","v22","v23","v24"];player createDiarySubject["Changelog",format["%1 Changes (%2)",toString[215],_0tr select(count(_0tr)-1)]];_0ur="<font color=""#aaaaff"">[%1]</font>";_0ej=format[_0ur,localize "STR_WL_Diary_ChangelogNew"];_0vr=format[_0ur,localize "STR_WL_Diary_ChangelogChanged"];_0wr=format[_0ur,localize "STR_WL_Diary_ChangelogFixed"];{player createDiaryRecord["Changelog",[format[localize "STR_WL_Diary_ChangelogEntry",_x],format["<font size='20' color='#cccccc'>%1</font><br/>%2",format[localize "STR_WL_Diary_ChangelogEntry",_x],format[localize format["STR_WL_Diary_Changelog_%1",_x],_0ej,_0vr,_0wr]]]];}forEach _0tr;player createDiarySubject["WiW",format["%1 About Wasteland",toString[215]]];_0xp="food" call wgxe7d;_0yp="water" call wgxe7d;_0xr="repairkit" call wgxe7d;_0yr="fuelcan" call wgxe7d;_0zr=["fuelcan",["empty"]]call wgxe7d;_04o="vehammo" call wgxe7d;wgtpuv=player createDiaryRecord["WiW",["Teamplay",format["- Not finished -"]]];wg31q5=player createDiaryRecord["WiW",["Gun Stores",format["- Not finished -"]]];wgm44t=player createDiaryRecord["WiW",["Missions",format["There are various kinds of mission types in Wasteland, some of which require <img image='%1' height='16'/> Repair Kits or <img image='%2' height='16'/> Fuel Cans to complete, many of the missions have armed AI resistance protecting the mission objective so make sure you are ready for a fight. It is generally advisable to go on the mission with a teammate as well as always carry a Repair Kit and a Fuel Can.<br/><br/><font size='20' color='#cccccc'>Mission Types</font><br/><font size='16' color='#cccccc'>Capture Base</font><br/>This mission's objective is to eliminate all AI resistance near their base. The base itself can be looted for supplies and building materials.<br/><br/><font size='16' color='#cccccc'>Armored Vehicle (Capture vehicle)</font><br/>This mission has an armored vehicle which has run out of fuel and is defended by a group of AI. Make sure you have <img image='%2' height='16'/> Fuel Can with you.<br/><br/><font size='16' color='#cccccc'>Downed Helicopter (Capture helicopter)</font><br/>This mission has a helicopter which has run out of fuel and is defended by a group of AI. Make sure you have <img image='%2' height='16'/> Fuel Can with you.<br/><br/><font size='16' color='#cccccc'>Aircraft Wreck</font><br/>This mission has an ammo crate defended by a group of AI.<br/><br/><font size='16' color='#cccccc'>Geo Cache</font><br/>This mission has an ammo crate in a distant or difficult to reach location. Be quick to get there first.<br/><br/><font size='16' color='#cccccc'>Diving Zone</font><br/>This mission has an ammo crate somewhere underwater within the radius shown on the map. Make sure you have diving suit and rebreather as you will need to spend some time searching for the crate.<br/><br/><font size='16' color='#cccccc'>Underwater Wreck</font><br/>This mission has an ammo crate defended by a group of enemy AI divers. Make sure you have diving suit, rebreather and SDAR underwater rifle to combat enemy divers.<br/>",_0xr select 0,_0yr select 0]]];wgvo2h=player createDiaryRecord["WiW",["Base Building",format["Building a base for your team can be very useful, giving you a place to bring ammo crates you've found, making it a natural hub for your team to store weapons and vehicles.<br/><br/><font size='20' color='#cccccc'>Gathering Consturciton Materials</font><br/>When building a base, look around for objects that can be found spread around the map. Go up to an object you've found that looks like it would make a useful base part, using the scroll wheel while standing close to it. If the menu appears with the options <img image='i\r3f_take.paa' height='16'/> <font color='#dddd00'>Take this Object</font>, this means that the object can be used for base construction. The easiest way to start a base is by finding a car to load these objects into, then drive to where you want to setup the base and unload the objects there, ready to be used for construction.<br/><br/>There are two ways to load an object into a vehicle. You can either choose <img image='i\r3f_take.paa' height='16'/> <font color='#dddd00'>Take this Object</font> and walk up to the vehicle, then once again use the scrollwheel and choose ""<img image='i\r3f_confirm.paa' height='16'/> <font color='#ffffff'>... load selected object in this vehicle</font>"", or you can look at the object and choose <img image='i\r3f_loadin.paa' height='16'/> <font color='#dddd00'>Load in...</font> then go to the vehicle and use the same method mentioned above to load the object. If you have a helicopter and hover above vehicle, you can tow it to the helicopter by choosing <img image='i\r3f_lift.paa' height='16'/> <font color='#dddd00'>Lift the object</font>. This is a very fast way to move vehicles across the map.<br/><br/><font size='20' color='#cccccc'>Placing Objects</font><br/>When you want to use these objects stored in a vehicle, go to the vehicle and select <img image='i\r3f_contents.paa' height='16'/> <font color='#dddd00'>View vehicle contents</font> from the mousewheel action menu. I advice you to look away from the vehicle right after choosing to unload an object, so you don't accidentaly destroy the vehicle with the object you are unloading.<br/><br/>Now when you've brought the objects you want to use to the location for the base, it's time to place these objects. Once you've picked up an object (Take this object) bring up the scroll menu and you will have these options:<br/><img image='i\r3f_release.paa' height='16'/> <font color='#dddd00'>Release the object</font> - This will release the object and the object will align itself with the ground underneath.<br/><img image='i\r3f_releaseh.paa' height='16'/> <font color='#dddd00'>Release (horizontal)</font> - This will release the object and force it to remain horizontal to the sea level.<br/><img image='i\r3f_rotate.paa' height='16'/> <font color='#dddd00'>Rotate the object</font> - This will rotate the object by 45 degrees.<br/><br/>After an object has been placed you can choose to lock the object. This means the object can not be moved until the object is unlocked, unlocking takes significantly longer than locking and should be done only when you are happy with the object's position. It's both useful to protect your base against other players, as well as making sure you don't accidentaly lift up an already placed object.<br/><br/><font size='20' color='#cccccc'>Protecting the Base</font><br/>Having a base is also a risk since other players will love to attack it. It is also a lot fun to defend. Make sure you have some friends on lookout to help you protect the base. Players on %1 and %2 can buy a Base Defence Radar. This device serves as spawn point as well as letting you know if there are enemy players within 200 meters of the radar.<br/>",[blufor,1,true]call wgkjbs,[opfor,1,true]call wgkjbs]]];wgxgzn=player createDiaryRecord["WiW",["Group Management",format["Group Management menu can be accessed by pressing the ""Groups"" button at the bottom of <execute expression=""processDiaryLink createDiaryLink ['WiW', wg1nlf, '']; call funcProcessDiaryLink"">Player Menu</execute>. The Group Management menu lets you create or join existing groups within your team. Being in a group with someone serves as a major advantage for %1 players as it enables them to respawn in towns which have a friendly group member or in an aircraft piloted by a friendly group member. If you are in a %2 or %3 group, all your group members will have green names above their heads aswell as in the Respawn Menu.<br/><br/><font size='20' color='#cccccc'>Players List</font><br/>The players list shows all currently alive players in your team. To manually update the list press the <img image='i\refresh.paa' height='16'/> button near the list title. Each player has icon near their name, this is what they mean:<br/><img image='i\grp_free.paa' height='16'/> Player is not part of any group and can be invited if you are group leader or not a member of a group.<br/><img image='i\grp_busy.paa' height='16'/> Player is already part of a group and cannot be invited to form another group.<br/><img image='i\grp_got.paa' height='16'/> The player has sent you an invite to join their group.<br/><img image='i\grp_sent.paa' height='16'/> You have sent this player an invite to join your group.<br/><img image='i\grp_both.paa' height='16'/> This player has sent you an invite and you have also sent them an invite.<br/><img image='i\grp_leader.paa' height='16'/> Your current group's leader.<br/><img image='i\grp_unit.paa' height='16'/> A member of your current group.<br/><br/><font size='20' color='#cccccc'>Inviting and Accepting Invites</font><br/>To invite a player to your group, select their name in the players list and press the ""Invite"" button. The player will not get any notification that they have recieved an invite, you will have to tell them to check their Group Management menu to see your invite. If they already have it open, they need to press the <img image='i\refresh.paa' height='16'/> button near players list title.<br/><br/>When somebody sends you an invite, open the Group Management menu or press  the <reload icon> button if you already have it open, select the player that invited you and press the ""Accept"" button.<br/><br/><font size='20' color='#cccccc'>Removing Players and Leaving Groups</font><br/>If you want to leave somebody else's group, select group leader in the list and press the ""Leave"" button.<br/><br/>If you want to kick somebody from your group, you need to be group leader, select their name in the list and press the ""Kick"" button.<br/>",[independent,1,true]call wgkjbs,[blufor,1,true]call wgkjbs,[opfor,1,true]call wgkjbs]]];wgavta=player createDiaryRecord["WiW",["Food and Water",format["All players spawn with 100% hunger and thirst status. Both statuses are displayed on your HUD in bottom right corner with <img image='i\f.paa' height='16'/> and <img image='i\w.paa' height='16'/> icons. Hunger and thirst drop over time with thirst dropping slightly quicker than hunger.<br/><br/><font size='20' color='#cccccc'>Death of Dehydration or Starvation</font><br/>When either status drops to 0 you will start slowly losing health until you die so make sure to eat and drink regularly to avoid death from thirst or starvation. A red blinking background under hunger or thirst indicates that you are losing health because of a low hunger or thirst status.<br/><br/><font size='20' color='#cccccc'>Health Regeneration</font><br/>Having 100% fulfilled hunger and thirst benefits you with slow health regeneration to perfect health (while First Aid Kits heal you only up to 80%). Regeneration however will not heal you from very serious injuries or wounds, you will need a First Aid Kit for that kind of injury. When you have 100% hunger and thirst both numbers will turn green and if you have taken any damaage these will start blinking with a green background indicating that you are regenerating health.<br/>"]]];wgqwv3=player createDiaryRecord["WiW",["Vehicles, Weapons and Loot",format["<font size='20' color='#cccccc'>Vehicles</font><br/>All vehicles in the game spawn near buildings so easiest way to find a vehicle is to search a town. When you spawn in town, the game always checks if there is enough vehicles in the city, if not, it spawns more for you to find. Military compounds have a small chance to spawn military vehicles, but don't count on that too much.<br/><br/><font size='20' color='#cccccc'>Weapons</font><br/>Along with transportation, vehicles serve as the primary source to find a starting weapon, make sure to check vehicle inventories when you find one. Searching buildings (especially military ones) is a great way to find weapons too, sometimes you can find weapon crate or backpack inside.<br/><br/><font size='20' color='#cccccc'>Loot</font><br/>Buildings are the main source of loot in game, make sure you check the  entire building if you are searching for food, water, repair kits, fuel cans or weapon crates. Ordinary buildings tend to spaw food, water and repair kits while military buildings spawn weapon crates and backpacks more often whith little to no food or water.<br/>"]]];wg1nlf=player createDiaryRecord["WiW",["Player Menu and Items",format["ArmA 3 Wasteland by Sa-Matra has a brand new player menu with a new set of rules. Your inventory consists of 4 slots, where each slot can be used to carry any of the in-game scripted items: Food, Water, Repair kits and Fuel cans. Money is stored independently from these slots.<br/><br/>To open the Player Menu select <img image='i\pm.paa' height='16'/> <font color='#be6300'>Player Menu</font> in mousewheel action menu or you can quickly access it by pressing <img image='i\key_tilde.paa' height='16'/> Tilde key on your keyboard<br/><br/><font size='20' color='#cccccc'>Items and Money</font><br/>All items and money can be dropped on the ground. Food, Water and Money are grouped into large sacks while repair kits and fuel cans appear as separate objects just like when you first find them. If you die you lose everything from your inventory, all your items and money will be dropped near your body, so make sure you stash your cash in safe place when you are going on a mission. Each inventory item can be either used or dropped. The following is a detailed description of all inventory items:<br/><br/><font size='16' color='#cccccc'>%1</font><br/><img image='%2' height='40'/><br/>Eating Canned food restores 30 hunger. When dropped it will be grouped into sacks. Can be found inside town buildings.<br/><br/><font size='16' color='#cccccc'>%3</font><br/><img image='%4' height='40'/><br/>Drinking water restores 50 thirst, like food it is grouped into a sack. Can be found inside town buildings.<br/><br/><font size='16' color='#cccccc'>%5</font><br/><img image='%6' height='40'/><br/>Use the repair kit to restore a vehicle to a perfect condition. Each repair kit is one time use so choose what to repair wisely. Repair time depends on the size of the vehicle. Can be found inside town buildings as well as can be bought and sold at the gun store.<br/><br/><font size='16' color='#cccccc'>%7</font><br/><img image='%8' height='40'/><br/>Used to refuel any vehicle in the game. The amount refueled depends on vehicle type. Upon use the fuel can changes into <img image='%9' height='16'/> an empty fuel can which can be refueled at the gas station. To refuel, simply walk to the fuel pump and select the refuel action in the mousewheel action menu. Tiny chance to find inside military buildings but can bought and sold at the gun store.<br/><br/><font size='16' color='#cccccc'>%10</font><br/><img image='%11' height='40'/><br/>Used to rearm military vehicles. This is single use item and will rearm 100% ammunition in all vehicle weapons. No players should be in vehicle when you rearm it. Can be found inside town buildings as well as can be bought and sold at the gun store.<br/><br/><font size='20' color='#cccccc'>Damage and Capacity</font><br/>The player menu display body parts damage status and overall damage, where a black body part represents a healthy status and a red apperance represents a damaged status. Another useful piece of information available in Player Menu is your current carrying capacity for uniforms, vests and backpacks.<br/><br/>The player menu also serves as a gateway to Groups menu and Settings menu with these menus available as buttons in the bottom of the Player Menu.<br/>",_0xp select 1,_0xp select 0,_0yp select 1,_0yp select 0,_0xr select 1,_0xr select 0,_0yr select 1,_0yr select 0,_0zr select 0,_04o select 1,_04o select 0]]];wgwfwl=player createDiaryRecord["WiW",["Friends and Enemies",format["<font size='20' color='#cccccc'>Teams</font><br/>There are 3 playable teams in the game: %1, %2 and %3. Independent differ from BLUFOR and OPFOR because they are not really a team but lone wolfs that can attack other Independents (ignore Friendly Fire message when you kill Independents). BLUFOR and OPFOR on other hand must play as a team and help each other. Friendly players and units have your team's icon above their heads. Additionally you can view their nicknames by pressing the <img image='i\key_windows.paa' height='16'/> Windows key.<br/><br/><font size='20' color='#cccccc'>Grouping</font><br/>Players can form groups to easily track and communicate with each other. Independents can also form groups and play together against everyone else. For more info about groups check <execute expression=""processDiaryLink createDiaryLink ['WiW', wgxgzn, '']; call funcProcessDiaryLink"">Group Management</execute>.<br/><br/><font size='20' color='#cccccc'>AI</font><br/>Along with player teams there is also an AI team that is hostile to everyone. AI appear on missions and sometimes roaming around the map.<br/><br/><font size='20' color='#cccccc'>Teamkilling</font><br/>Teamkilling in %1 and %2 is strictly forbidden and will get you banned. If team member teamkills you on purpose and doesn't explain themself, you should press ""Punish"" button. Two punishes move player into Independent team and also leave logs for administrators to review the teamkiller later and decide if further punishment is required.<br/>",[blufor,1,true]call wgkjbs,[opfor,1,true]call wgkjbs,[independent,1,true]call wgkjbs]]];wgffax=player createDiaryRecord["WiW",["Getting Started",format["<font size='20' color='#cccccc'>Quick starting steps</font><br/>1) Find a vehicle and search its inventory for weapons<br/>2) Meet up with friendlies (%1 or %2)<br/>3) Complete missions and build a base together<br/>",[blufor,1,true]call wgkjbs,[opfor,1,true]call wgkjbs]]];wg548f=player createDiaryRecord["WiW",["What is Wasteland",format["<img image='i\logo.paa' height='60'/><br/><font size='20' color='#cccccc'>What is Wasteland</font><br/>In a nutshell, Wasteland is game mode free for all or team deathmatch against other players and AI with various features like the need to eat and drink, a money system which lets you buy and sell gear and weapons in gun stores, R3F logistics module which lets you tow and lift vehicles as well as collect base parts to build a base for yourself and your team.<br/><br/>Please spend a wgcry4 to read <execute expression=""processDiaryLink createDiaryLink ['WiW', wgffax, '']; call funcProcessDiaryLink"">Getting started</execute> for a quick breakdown of Wasteland.<br/>"]]];};